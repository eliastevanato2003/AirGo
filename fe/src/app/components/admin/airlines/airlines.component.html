<div class="air-go-container">
  <app-navbar></app-navbar>

 
  <div class="hero hero-airlines">
    <h1 style="color:white;">Gestione Compagnie Aeree</h1>
    <p style="color:white;">Qui puoi aggiungere o eliminare compagnie aeree</p>
    <button class="add-btn" (click)="showModal=true">Aggiungi compagnia</button>

  <div [formGroup]="filterForm"  (ngSubmit)="filtra()" class="search-box filter-inside">

    <div class="input-group">
    <label>ID</label>
    <input type="number" formControlName="id">
    </div>

    <div class="input-group">
    <label>Nome</label>
    <input type="text" formControlName="name">
    </div>

    <div class="input-group">
    <label>Email</label>
    <input type="email" formControlName="email">
    </div>

    <div class="input-group">
    <label>Codice Identificativo</label>
    <input type="text" formControlName="code">
    </div>

      <button type="submit" class="search-btn">&#10141;</button>
      <button type="button" class="search-btn reset" (click)=reset() >Reset</button>
  </div>
</div>


<div class="second-container">
  @if(airlines) {
  <div class="airline-list">
    @for(airline of airlines; track airline.IdCompagniaAerea) {
    <div class="airline-bar">
      <div class="airline-info">
        <p><strong>Nome:</strong> {{ airline.Nome }}</p>
        <p><strong>Codice:</strong> {{ airline.CodiceIdentificativo }}</p>
        <p><strong>Email:</strong> {{ airline.Email }}</p>
      </div>
      <button class="delete-btn" (click)="deleteAirline(airline.IdCompagniaAerea)">Elimina</button>
    </div>
    }
  </div>
  }

  @if(showModal) {
  <div class="modal-overlay">
    <div class="modal-content">
      <h3>Aggiungi compagnia</h3>
      <form [formGroup]="airlineForm" (ngSubmit)="addAirline()">
        <label for="name">Nome</label>
        <input type="text" id="name" formControlName="name" required>

        <label for="code">Codice identificativo</label>
        <input type="text" id="code" formControlName="code" required>

        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email" required>

        <label for="password">Password</label>
        <input type="password" id="password" formControlName="password" required>

        <div class="modal-buttons">
          <button type="submit" class="add-btn" [disabled]="airlineForm.invalid">Aggiungi</button>
          <button type="button" class="cancel-btn" (click)="closeModal()">Annulla</button>
        </div>
      </form>
    </div>
  </div>
  }
</div>

<app-footer></app-footer>
</div>